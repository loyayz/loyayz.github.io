[{"content":"PaperMod 已集成 Fuse 实现搜索功能，本篇记录下如何使用\n  在网站根目录新建文件content/search.md   1 2 3 4  --- title: \u0026#34;搜索\u0026#34; layout: \u0026#34;search\u0026#34; ---    编辑网站根目录下的config.yml添加菜单和参数   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  menu: main: - name: 搜索 url: search/ weight: 10 params: # 参考 https://fusejs.io/api/options.html fuseOpts: isCaseSensitive: false includeMatches: true shouldSort: true location: 0 distance: 1000 threshold: 0.4 minMatchCharLength: 0 keys: [\u0026#34;title\u0026#34;, \u0026#34;permalink\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;content\u0026#34;]   ","permalink":"https://loyayz.com/posts/hugo/add-search/","summary":"PaperMod 已集成 Fuse 实现搜索功能，本篇记录下如何使用 在网站根目录新建文件content/search.md 1 2 3 4 --- title: \u0026#34;搜索\u0026#34; layout: \u0026#34;search\u0026#34; --- 编","title":"Hugo PaperMod 添加搜索功能"},{"content":"Hugo 内部模板 已集成 Google Analytics，本篇记录下如何使用\n  登录 Google Analytics 点击首页的开始衡量按钮 按页面提示创建账号，创建成功后会自动跳转至管理页 按页面提示设置数据流，设置成功后会自动跳转至详情页 在数据流详情页找到衡量ID 编辑网站根目录下的config.yml   1 2 3 4  googleAnalytics: 衡量ID privacy: googleAnalytics: disable: false   ","permalink":"https://loyayz.com/posts/hugo/add-google-analytics/","summary":"Hugo 内部模板 已集成 Google Analytics，本篇记录下如何使用 登录 Google Analytics 点击首页的开始衡量按钮 按页面提示创建账号，创建成功后会自动跳转至管理页 按页面","title":"Hugo 添加谷歌分析"},{"content":"1 域名解析   登录阿里云 进入控制台，找到域名服务 点击域名列表 点击要绑定的域名后的解析 点击添加记录   1 2 3  记录类型：CNAME 主机记录：@ 记录值：loyayz.github.io   2 网站配置   在根目录新建文件static/CNAME   1  loyayz.com    修改根目录下的config.yml   1  baseURL: \u0026#34;https://loyayz.com/\u0026#34;    部署后等域名解析完成，浏览器打开链接https://loyayz.com即可看到网站   ","permalink":"https://loyayz.com/posts/hugo/custom-domain/","summary":"1 域名解析 登录阿里云 进入控制台，找到域名服务 点击域名列表 点击要绑定的域名后的解析 点击添加记录 1 2 3 记录类型：CNAME 主机记录：@ 记录值：l","title":"Hugo Github Pages 绑定域名"},{"content":"基于 Hugo 搭建并部署在 Github Pages\n1 安装 Hugo 官网教程\n  新建目录C:\\programs\\hugo 在官网下载最新版，本次下载 hugo_extended_0.99.1_Windows-64bit.zip 解压 zip 文件，并将解压出的hugo.exe移到C:\\programs\\hugo 添加环境变量： win+R -\u0026gt; sysdm.cpl -\u0026gt; 高级 -\u0026gt; 环境变量(N)\u0026hellip; -\u0026gt; 系统变量(S) -\u0026gt; 双击 Path -\u0026gt; 新建 -\u0026gt; 输入C:\\programs\\hugo 打开命令行，输入hugo version，显示版本号即安装成功   2 创建网站 2.1 生成网站   新建目录C:\\code\\loyayz\\loyayz.github.io用于存放网站源码 执行命令生成网站 初始化 git 仓库，未安装 git 请先安装：Git 官网   1 2 3  cd C:\\code\\loyayz\\loyayz.github.io hugo new site . -f yml git init   2.2 使用主题   下载：在官网挑选主题，本次使用 PaperMod   1  git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod    配置：修改根目录下的config.yml文件，我是直接用示例配置覆盖后再修改   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107  # 绑定的域名baseURL:\u0026#34;https://loyayz.github.io/\u0026#34;# 首页标题title:loyayz# 使用的主题theme:PaperMod# 首页每页显示的文章数paginate:5enableInlineShortcodes:trueenableRobotsTXT:trueenableEmoji:truepygmentsUseClasses:truehasCJKLanguage:truebuildDrafts:falsebuildFuture:falsebuildExpired:falseminify:disableXML:true# minifyOutput: truetaxonomies:category:categoriestag:tagstopic:topicsmenu:main:- name:文章url:posts/weight:1- name:分类url:categories/weight:2- name:标签url:tags/weight:3outputs:home:- HTML- RSS- JSONparams:env:productiontitle:\u0026#34;loyayz\u0026#39;s blog\u0026#34;description:\u0026#34;loyayz\u0026#39;s blog - https://loyayz.com\u0026#34;author:loyayzimages:[\u0026#34;papermod-cover.png\u0026#34;]keywords:[loyayz,ideaworlds,simpleframework]DateFormat:\u0026#34;2006-01-02\u0026#34;ShowReadingTime:falseShowShareButtons:falseShowCodeCopyButtons:trueShowFullTextinRSS:falsedefaultTheme:autodisableThemeToggle:falsedisableSpecial1stPost:truedisableScrollToTop:falsedisableAnchoredHeadings:falsehideMeta:falsehideSummary:falseshowtoc:truetocopen:falseShowPostNavLinks:trueShowBreadCrumbs:trueShowWordCount:falseShowRssButtonInSectionTermList:falsecomments:falsehideFooter:true#homeInfoParams:# Title: \u0026#34;\u0026#34;# Content: socialIcons:- name:githuburl:\u0026#34;https://github.com/loyayz\u0026#34;- name:emailurl:\u0026#34;mailto:loyayz@foxmail.com\u0026#34;- name:RsSurl:\u0026#34;index.xml\u0026#34;markup:goldmark:renderer:unsafe:truehighlight:codeFences:trueguessSyntax:truelineNos:truestyle:monokaiprivacy:disqus:disable:truegoogleAnalytics:disable:trueinstagram:disable:truetwitter:disable:truevimeo:disable:trueyoutube:disable:true   拓展：如下新建拓展文件custom.css、extend_head.html、extend_footer.html   1 2 3 4 5 6 7 8 9 10  .(loyayz.github.io) ├── config.yml ├── assets/ │ └── css/ │ └── extended/ │ └── custom.css └── layouts └── partials ├── extend_footer.html └── extend_head.html   1 2 3 4 5  /* custom.css */ /* 修改代码块的最大高度 */ .highlight table { max-height: 400px }   2.3 本地调试 命令行内执行命令后，在浏览器打开http://localhost:1313可预览网站\n1  hugo server -D   3 部署到 Github Pages 3.1 新建脚本  Windows 一键提交脚本：在根目录新建文件deploy.bat  1 2 3 4  @echo off git add . git commit -m \u0026#34;update\u0026#34; git push    Linux 一键提交脚本：在根目录新建文件deploy.sh  1 2 3 4  #!/bin/sh git add . git commit -m \u0026#34;update\u0026#34; git push    GitHub Action 自动化部署脚本：在根目录新建文件.github/workflows/gh-pages.yml  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  name:github pageson:push:branches:- masterpull_request:jobs:deploy:runs-on:ubuntu-20.04steps:- uses:actions/checkout@v2with:submodules:truefetch-depth:1- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:\u0026#39;latest\u0026#39;# extended: true- name:Buildrun:hugo --minify- name:Deployuses:peaceiris/actions-gh-pages@v3if:github.ref == \u0026#39;refs/heads/master\u0026#39;with:github_token:${{ secrets.GITHUB_TOKEN }}publish_dir:./public  3.2 创建远程仓库   创建远程仓库：打开 GitHub 创建仓库，仓库名为loyayz.github.io其他都不选 在根目录新建文件.gitignore避免以后误操作提交文件   1 2 3 4 5 6 7  public/ .idea/* .vscode/* !.vscode/settings.json !.vscode/tasks.json !.vscode/launch.json !.vscode/extensions.json    关联本地和远程仓库，提交并推送到 Github   1 2 3 4 5  git add . git commit -m \u0026#34;init\u0026#34; git branch -M master git remote add origin https://github.com/loyayz/loyayz.github.io.git git push --set-upstream origin master    在根目录新建README.md写些说明后，双击deploy.bat推送到远程触发自动化部署   1 2 3 4 5  本仓库使用 git submodule 引用主题仓库，因此 git clone 本仓库后需要再执行下句命令 git submodule update --init --recursive --depth=1 部署：双击`deploy.bat`或执行命令`sh deploy.sh`   3.3 修改 Github Pages GitHub Action默认生成网站到gh-pages分支，因此需要修改Github Pages来源\n  浏览器打开远程仓库，进入设置页面：Settings -\u0026gt; Pages 将Source 分支中的master换成gh-pages 浏览器打开链接https://loyayz.github.io即可看到网站   4 创建文章   执行命令行启动服务，浏览器打开http://localhost:1313预览网站   1  hugo server -D    打开另一个命令行执行命令创建文章，网站将实时显示新的文章   1  hugo new posts/hugo/我的网站搭建记录.md    编辑文章：新建的文章源文件在根目录下的content/posts/hugo/我的网站搭建记录.md   1 2 3 4 5 6 7 8 9  --- title: \u0026#34;我的网站搭建记录\u0026#34; date: 2022-05-28T00:00:00+08:00 draft: false tags: [\u0026#34;hugo\u0026#34;, \u0026#34;blog\u0026#34;] categories: [\u0026#34;hugo\u0026#34;] --- 基于 [Hugo](https://gohugo.io) 搭建并部署在 [Github Pages](https://pages.github.com)   注意：draft需改为false表示该文章不是草稿，否则推送到远程仓库后不会部署该文章\n 双击deploy.bat部署，稍等几秒后刷新https://loyayz.github.io即可看到网站新内容   ","permalink":"https://loyayz.com/posts/hugo/init/","summary":"基于 Hugo 搭建并部署在 Github Pages 1 安装 Hugo 官网教程 新建目录C:\\programs\\hugo 在官网下载最新版，本次下载 hugo_extended_0.99.1_Windows-64bit.zip 解压 zip 文件，并将解压出的hugo.","title":"Hugo Github Pages 网站搭建"}]